// http://www.research.att.com/~njas/sequences/table?a=45&fmt=4
main = {
  expect_i32 55;
  print_i32 (fib-naive (opaquely_i32 10));

  expect_i32 610;
  print_i32 (fib-naive (opaquely_i32 15));

  expect_i32 6765;
  print_i32 (fib-tailrecursive (opaquely_i32 20) 0 1);
  0
};

fib-naive = { x : i32 =>
  if x < 3 then 1
  else fib-naive (x - 1) + fib-naive (x - 2) end
};

fib-tailrecursive = { x : i32 =>
                current : i32 =>
                   next : i32 =>
  if x == 0 then current
  else fib-tailrecursive (x - 1) next (current + next) end
};

