// IN: 10 20 30
// http://www.research.att.com/~njas/sequences/table?a=45&fmt=4
fn "main" () {
  expect_i32(55)
  print_i32(fib-naive(read_i32()))

  expect_i32(6765)
  print_i32(fib-tailrecursive(read_i32(), 0, 1))

  expect_i32(832040)
  print_i32(fib-naive(read_i32()))
}

fib-naive = fn (x : i32) {
  if x < 3 then { 1 } else { fib-naive(x - 1) + fib-naive(x - 2) }
}

fib-tailrecursive = fn (x : i32, current : i32, next : i32) {
  if x == 0 then { current } else { fib-tailrecursive(x - 1, next, current + next) }
}

