// http://www.research.att.com/~njas/sequences/table?a=45&fmt=4
main = {
  let j0 = expect_i32 55;
      j1 = print_i32 (fib-naive (opaquely_i32 10));

      j2 = expect_i32 610;
      j3 = print_i32 (fib-naive (opaquely_i32 15));

      j4 = expect_i32 6765;
      j5 = print_i32 (fib-tailrecursive (opaquely_i32 20) 0 1);
   in 0 end
};

fib-naive = { x : i32 =>
  if x < 3 then 1
  else fib-naive (x - 1) + fib-naive (x - 2) end
};

fib-tailrecursive = { x : i32 =>
                current : i32 =>
                   next : i32 =>
  if x == 0 then current
  else fib-tailrecursive (x - 1) next (current + next) end
};

