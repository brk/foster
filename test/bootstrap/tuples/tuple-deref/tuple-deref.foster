main = {
   expect_i32 42;
   print_i32( (42, true)[0] );

   expect_i1 true;
   print_i1( (42, true)[1] );

   expect_i32 44;
   print_i32( (true, 43, 44)[2] );

   expect_i32 42;
   print_i32( (42, 43, 44)[0] );

   expect_i1 false;
   print_i1 (__COMPILES__ (42, 43, 44)[333] );

// expect_i1 false; // TODO this is misparsed at the moment, indexing takes int and not expr
// print_i1 (__COMPILES__ (42, 43, 44)[0 - 1] );

   expect_i1 false;
   print_i1 (__COMPILES__ (42, 43, 44)[true] );

// expect_i1 true; // LLVM disallows empty structs
// print_i1 (__COMPILES__ ());

   expect_i1 false; // ... but you can't index into it!
   print_i1 (__COMPILES__ ()[0] );

   expect_i1 false;
   print_i1 (__COMPILES__ true[0] );
   0
};

