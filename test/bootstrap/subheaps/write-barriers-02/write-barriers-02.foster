type case Foo
  of $Foo Foo Foo
  of $FooLeaf Int32;

main = {
  z = Foo (FooLeaf 1) (FooLeaf 2);
  expect_i32 3;
  print_i32 (sum z);
};

sum = { f =>
  case f
    of $Foo x y -> sum x +Int32 sum y
    of $FooLeaf z -> z
  end
};
