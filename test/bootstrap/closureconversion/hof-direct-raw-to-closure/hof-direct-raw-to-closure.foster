// IN: 42 48

fx = fn (to i32) { read_i32() }

// This tests passing of top-level functions to higher-order
// Foster functions, which (pessimistically?) expect a closure.

main = fn () {
  expect_i32(42) ;  print_i32(run-it(fx)) // Foster fn

  expect_i32(48) ;  print_i32(run-it(read_i32)) // C fn

  force_gc_for_debugging_purposes()
  0
}

run-it = fn (f:fn()) {  f()  }

