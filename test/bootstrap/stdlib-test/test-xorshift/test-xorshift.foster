snafuinclude Prelude  "prelude";
snafuinclude Xorshift "prng/xorshift";
snafuinclude SFC64 "prng/sfc";

print_point = { i => x =>
  print_i64_bare (zext_i32_to_i64 i);
  print_text_bare ": ";
  print_i64x (zext_i32_to_i64 x);
};

main = {

  st = xor1x32MakeState 2463534242;
  expect_i32x 0x2B1F4D63;
  expect_i32x 0x94DACB7A;
  finalstate = foldRange 0 2 st { i => st =>
    case xor1x32gen st of (x, st) ->
      print_i32x x;
      st
    end
  };

  test-sfc64 !;
};

test-sfc64 = {
  gen = sfc64HOF 0;

  expect_i64 0x3acfa029e3cc6041;
  print_i64 (gen !);

  expect_i64 0xf5b6515bf2ee419c;
  print_i64 (gen !);

  expect_i64 0x1259635894a29b61;
  print_i64 (gen !);
};

