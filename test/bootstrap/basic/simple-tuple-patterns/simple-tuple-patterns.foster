main = {
 //t1 ();
 //t2 ();
 //t3 ();
  t5 ();
};
/*
t1 = {
  expect_i32 1;
  print_i32
    case opaquely_i32 1
      of a -> a
    end;
};

t2 = {
  expect_i32 2;
  print_i32
    case (opaquely_i32 1, opaquely_i32 1)
      of (a, b) -> primitive_+_i32 a b
    end;
};

t3 = {
  expect_i32 3;
  print_i32
    case opaquely_i32 1
      of 2 -> 4
      of 1 -> 3
      of a -> a
    end;
};


t4 = {
  expect_i32 4;
  print_i32
    case opaquely_i32 4
      of 2 -> 5
      of 1 -> 3
      of a -> a
    end;
};
*/

// Ensure that subsequent (un-taken) matches do not mess us up.
t5 = {
  expect_i32 5;
  print_i32
    case (opaquely_i32 3, opaquely_i32 5)
      of (3, b) -> b
      of (c, d) -> 12345
    end;
};
