hof-while = { t : {i1} => b : { i32 } =>
  if t () then let j0 = b (); in hof-while t b end
          else 0 end
};

/*
hof-while = { t : {i1} => b : { () } =>
  if t () then let j0 = b(); in hof-while t b end
          else () end
};
*/

main = {
  expect_i32 0;
  expect_i32 1;
  expect_i32 2;
  let v = (ref 0);
      n = opaquely_i32 3;
     j0 = hof-while { v^ < n } { print_i32 v^ ; (v^ + 1) >^ v ; 0 };
   in 0 end
};
