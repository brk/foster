hof-while = { t : {i1} => b : { i32 } =>
  if t () then b (); hof-while t b
          else 0 end
};

main = {
  expect_i32 0;
  expect_i32 1;
  expect_i32 2;
  let v = (ref 0);
      n = opaquely_i32 3;
   in
     hof-while { v^ < n } {
       print_i32 v^ ; (v^ + 1) >^ v ; 0
     }
  end
};
